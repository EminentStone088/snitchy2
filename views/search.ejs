<!DOCTYPE html>
<html lang="en">
<head>
	<%- include("./partials/head.ejs", {title: "Search"}) %>
</head>
<body>
	<%- include("./partials/nav.ejs") %>

	<main>
		<h2>Results for <%= query %></h2>

		<%- include("./partials/search.ejs", {value: query}) %>

		<% var as = articles.filter(_ => _.title.toLowerCase().indexOf(query) !== -1 || _.authors.toLowerCase().indexOf(query) !== -1).sort((a, b) => b.date_js - a.date_js, 0) %>

		<% if (as.length === 0) { %>
			<p>Zero results found!</p>
		<% } else { %>

		<div class="articles">
			<% for (const article of
					as
				) { %>
				<a href="/article/<%- article.slug %>">
					<h4><%- article.authors %></h4>
					<h3><%- article.title %></h3>
				</a>
			<% } %>
		</div>

		<% } %>
	</main>

	<%- include("./partials/footer.ejs") %>
</body>
</html>
